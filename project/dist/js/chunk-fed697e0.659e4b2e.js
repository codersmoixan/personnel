(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fed697e0"],{"0193":function(e,t,a){},"0215":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1e3,"page-size":1},on:{"current-change":e.handleCurrentChange}})],1)},i=[],s={name:"Pagination",data:function(){return{pageNum:1}},methods:{handleCurrentChange:function(e){var t=e;this.$emit("handleCurrentChange",t)}}},r=s,o=a("2877"),l=Object(o["a"])(r,n,i,!1,null,"0a911911",null);t["a"]=l.exports},"0253":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"zj-p-search"},[a("el-form",{attrs:{"label-width":"80px"}},[a("div",{staticClass:"demo-input-size"},[a("el-input",{staticClass:"input",attrs:{size:"small",placeholder:e.queryParameter[0]},model:{value:e.formSearch.searcheId,callback:function(t){e.$set(e.formSearch,"searcheId",t)},expression:"formSearch.searcheId"}}),a("el-input",{staticClass:"input",attrs:{size:"small",placeholder:e.queryParameter[1]},model:{value:e.formSearch.searchName,callback:function(t){e.$set(e.formSearch,"searchName",t)},expression:"formSearch.searchName"}}),a("el-input",{staticClass:"input",attrs:{size:"small",placeholder:e.queryParameter[2]},model:{value:e.formSearch.page,callback:function(t){e.$set(e.formSearch,"page",t)},expression:"formSearch.page"}}),a("el-input",{staticClass:"input",attrs:{size:"small",placeholder:e.queryParameter[3]},model:{value:e.formSearch.pageSize,callback:function(t){e.$set(e.formSearch,"pageSize",t)},expression:"formSearch.pageSize"}}),a("el-button",{staticClass:"btn",attrs:{type:"primary",size:"small"},on:{click:e.searchClick}},[e._v("搜索")]),a("el-button",{staticClass:"btn",attrs:{type:"primary",size:"small"},on:{click:e.getAllData}},[e._v("加载全部")])],1)])],1)},i=[],s={name:"PersonnelSearch",props:{queryParameter:{type:Array,default:function(){return[]}}},data:function(){return{formSearch:{searchId:"",searchName:"",page:"",pageSize:""},againData:{page:1,pageSize:10}}},methods:{searchClick:function(){var e=!1;for(var t in this.formSearch)this.formSearch[t]&&(e=!0);e?this.$emit("searchData",this.formSearch):this.$message.warning("请输入需要查询的参数！！！"),this.formSearch={}},getAllData:function(){this.$emit("againRendering",this.againData)}}},r=s,o=(a("a3ba"),a("2877")),l=Object(o["a"])(r,n,i,!1,null,"c79270b4",null);t["a"]=l.exports},"02c1":function(e,t,a){},"15c8":function(e,t,a){"use strict";a.d(t,"t",(function(){return i})),a.d(t,"K",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"v",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"k",(function(){return c})),a.d(t,"L",(function(){return d})),a.d(t,"n",(function(){return u})),a.d(t,"s",(function(){return p})),a.d(t,"F",(function(){return h})),a.d(t,"p",(function(){return f})),a.d(t,"B",(function(){return m})),a.d(t,"f",(function(){return g})),a.d(t,"M",(function(){return v})),a.d(t,"h",(function(){return S})),a.d(t,"u",(function(){return b})),a.d(t,"e",(function(){return w})),a.d(t,"J",(function(){return C})),a.d(t,"d",(function(){return D})),a.d(t,"N",(function(){return I})),a.d(t,"m",(function(){return k})),a.d(t,"A",(function(){return y})),a.d(t,"w",(function(){return _})),a.d(t,"G",(function(){return x})),a.d(t,"l",(function(){return z})),a.d(t,"o",(function(){return L})),a.d(t,"x",(function(){return P})),a.d(t,"I",(function(){return $})),a.d(t,"y",(function(){return j})),a.d(t,"H",(function(){return O})),a.d(t,"z",(function(){return N})),a.d(t,"q",(function(){return T})),a.d(t,"C",(function(){return F})),a.d(t,"r",(function(){return A})),a.d(t,"D",(function(){return M})),a.d(t,"a",(function(){return E})),a.d(t,"E",(function(){return q})),a.d(t,"b",(function(){return B})),a.d(t,"j",(function(){return H})),a.d(t,"i",(function(){return J}));a("7f7f");var n=a("c2f4");function i(e,t){return Object(n["a"])("/personnel/staff/list",{page:e,pageSize:t})}function s(e){return Object(n["a"])("/personnel/staff/list/condition",{id:e.searcheId,name:e.searchName,page:e.page,pageSize:e.pageSize})}function r(e){return Object(n["b"])("/personnel/staff/add",e)}function o(e,t){return Object(n["a"])("/personnel/recruit/list",{page:e,pageSize:t})}function l(e){return Object(n["b"])("/personnel/recruit/add",e)}function c(e){return Object(n["a"])("/personnel/recruit/delete",{id:e})}function d(e){return Object(n["a"])("/personnel/recruit/list/condition",{id:e.searcheId,name:e.searchName,page:e.page,pageSize:e.pageSize})}function u(e){return Object(n["b"])("/personnel/recruit/update",e)}function p(e,t){return Object(n["a"])("/personnel/leave/list",{page:e,pageSize:t})}function h(e){return Object(n["a"])("/personnel/leave/list",{id:e.id,type:e.type,page:e.page,pageSize:e.pageSize})}function f(e,t){return Object(n["a"])("/personnel/department/list",{page:e,pageSize:t})}function m(e){return Object(n["a"])("/personnel/department/list/condition",{id:e.id,name:e.name,page:e.page,pageSize:e.pageSize})}function g(e){return Object(n["b"])("/personnel/department/add",e)}function v(e){return Object(n["b"])("/personnel/department/update",e)}function S(e){return Object(n["a"])("/personnel/department/delete",{id:e})}function b(e){return Object(n["a"])("/personnel/training/stafflist",{id:e.id,page:e.page,pageSize:e.pageSize})}function w(e){return Object(n["b"])("/personnel/training/add",e)}function C(e){return Object(n["a"])("/personnel/training/list/condition/only",{id:e.id,name:e.name,page:e.page,pageSize:e.pageSize})}function D(e){return Object(n["a"])("/personnel/training/add/staff",{trainingId:e.trainingId,staffId:e.staffId})}function I(e){return Object(n["b"])("/personnel/training/update",e)}function k(e){return Object(n["a"])("/personnel/training/delete",{id:e})}function y(e){return Object(n["a"])("/personnel/training/list/only",{page:e.page,pageSize:e.pageSize})}function _(e){return Object(n["a"])("/personnel/recruitusers/list",{page:e.page,pageSize:e.pageSize})}function x(e){return Object(n["a"])("/personnel/recruitusers/list/condition",{id:e.id,name:e.name,page:e.page,pageSize:e.pageSize})}function z(e){return Object(n["a"])("/personnel/recruitusers/delete",{id:e})}function L(e){return Object(n["a"])("/personnel/attendance/list",{page:e.page,pageSize:e.pageSize})}function P(e){return Object(n["a"])("/personnel/salaryday/list",{page:e.page,pageSize:e.pageSize})}function $(e){return Object(n["a"])("/personnel/salaryday/list/condition",{id:e.id,staffId:e.staffId,dateScopeStart:e.dateScopeStart,dateScopeEnd:e.dateScopeEnd,page:e.page,pageSize:e.pageSize})}function j(e){return Object(n["a"])("/personnel/salarymonth/list",{page:e.page,pageSize:e.pageSize})}function O(e){return Object(n["a"])("/personnel/salarymonth/list/condition",{id:e.id,staffId:e.staffId,dateScopeStart:e.dateScopeStart,dateScopeEnd:e.dateScopeEnd,page:e.page,pageSize:e.pageSize})}function N(e){return Object(n["a"])("/personnel/staffactivity/list",{page:e.page,pageSize:e.pageSize})}function T(e){return Object(n["a"])("/personnel/groupmanagement/list/only",{page:e.page,pageSize:e.pageSize})}function F(e){return Object(n["a"])("/personnel/groupmanagement/list/condition/only",{id:e.id,name:e.name,page:e.page,pageSize:e.pageSize})}function A(e){return Object(n["a"])("/personnel/groupmanagement/list",{page:e.page,pageSize:e.pageSize})}function M(e){return Object(n["a"])("/personnel/groupmanagement/list/condition",{id:e.id,name:e.name,page:e.page,pageSize:e.pageSize})}function E(e){return Object(n["b"])("/personnel/groupmanagement/add",e)}function q(e){return Object(n["a"])("/personnel/groupmanagement/stafflist",{id:e.id,page:e.page,pageSize:e.pageSize})}function B(e){return Object(n["a"])("/personnel/groupmanagement/add/staff",{groupManagementId:e.groupManagementId,staffId:e.staffId,descs:e.descs})}function H(e){return Object(n["a"])("/personnel/groupmanagement/delete/staff",{staffId:e.staffId,groupManagementId:e.groupManagementId})}function J(e){return Object(n["a"])("/personnel/groupmanagement/delete",{id:e})}},"19f1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.fullscreenLoading,expression:"fullscreenLoading"}],staticClass:"train-manage",attrs:{"element-loading-background":"rgba(255, 255, 255, 0.8)","element-loading-text":"拼命加载中..."}},[a("div",{staticClass:"train-container"},[a("div",{staticClass:"train-top"},[a("div",{staticClass:"add-train"},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-circle-plus"},on:{click:e.addTrainClick}},[e._v("添加计划")])],1),a("div",{staticClass:"search"},[a("personnel-search",{attrs:{queryParameter:e.queryParameter},on:{searchData:e.searchData}})],1),a("div",{staticClass:"page"},[a("pagination")],1)]),a("div",{staticClass:"train-list"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"计划ID",width:"120",fixed:"left"}}),a("el-table-column",{attrs:{prop:"name",label:"计划名称",width:"150"}}),a("el-table-column",{attrs:{prop:"createdate",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{prop:"startDate",label:"开始时间",width:"180"}}),a("el-table-column",{attrs:{prop:"endDate",label:"结束时间",width:"180"}}),a("el-table-column",{attrs:{prop:"budget",label:"培训预算",width:"120"}}),a("el-table-column",{attrs:{prop:"",label:"负责人",width:"120"}},[[a("div",{staticClass:"text"},[e._v(e._s(e.tableData.staffIdInCharge))])]],2),a("el-table-column",{attrs:{prop:"staffInSupervisor",label:"监督人",width:"120"}},[[a("div",{staticClass:"text"},[e._v(e._s(e.tableData.staffIdInSupervisor?"是":"否"))])]],2),a("el-table-column",{attrs:{prop:"staffFinance",label:"财务审批人",width:"120"}},[[a("div",{staticClass:"text"},[e._v(e._s(e.tableData.staffIdFinance?"是":"否"))])]],2),a("el-table-column",{attrs:{prop:"",label:"审批状态",width:"150"}},[[a("div",{staticClass:"status",style:e.statusShow},[e._v(e._s(e.tableData.approvalStatus?"同意":"驳回"))])]],2),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.clickDetailed(t.row)}}}),a("el-button",{attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.clickDelete(t.row)}}})]}}])})],1)],1)]),a("add-train-plan",{directives:[{name:"show",rawName:"v-show",value:e.isAddTrainShow,expression:"isAddTrainShow"}],on:{addTrainShowChange:e.addTrainShowChange,refreshList:e.refreshList}}),a("check-train",{directives:[{name:"show",rawName:"v-show",value:e.isCheckShow,expression:"isCheckShow"}],attrs:{handleCheckData:e.handleCheckData},on:{checkShowChange:e.checkShowChange,refreshList:e.refreshList}})],1)},i=[],s=a("15c8"),r=a("0253"),o=a("0215"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cover"},[a("div",{staticClass:"add-train-container add-view"},[a("div",{staticClass:"content-top"},[a("span",[e._v("添加培训计划")]),a("div",{staticClass:"close",on:{click:e.isAddShowFlag}},[e._v("x")])]),a("div",{staticClass:"add-train ov-auto"},[a("el-form",{ref:"trainList",attrs:{model:e.trainList,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"计划名称"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.trainList.name,callback:function(t){e.$set(e.trainList,"name",t)},expression:"trainList.name"}})],1)],1),a("el-form-item",{attrs:{label:"计划开始时间"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.trainList.approvalDateFinance,callback:function(t){e.$set(e.trainList,"approvalDateFinance",t)},expression:"trainList.approvalDateFinance"}})],1)]),a("el-form-item",{attrs:{label:"培训时间"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.trainDate,callback:function(t){e.trainDate=t},expression:"trainDate"}})],1)]),a("el-form-item",{attrs:{label:"培训地点"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.trainList.address,callback:function(t){e.$set(e.trainList,"address",t)},expression:"trainList.address"}})],1)],1),a("el-form-item",{attrs:{label:"培训预算"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.trainList.budget,callback:function(t){e.$set(e.trainList,"budget",t)},expression:"trainList.budget"}})],1)],1),a("el-form-item",{attrs:{label:"负责人"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.trainList.staffIdInCharge,callback:function(t){e.$set(e.trainList,"staffIdInCharge",t)},expression:"trainList.staffIdInCharge"}})],1)],1),a("el-form-item",{attrs:{label:"监督人"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.trainList.staffIdInSupervisor,callback:function(t){e.$set(e.trainList,"staffIdInSupervisor",t)},expression:"trainList.staffIdInSupervisor"}})],1)],1),a("el-form-item",{attrs:{label:"财务审批人"}},[a("el-col",{attrs:{span:6}},[a("el-input",{model:{value:e.trainList.staffIdFinance,callback:function(t){e.$set(e.trainList,"staffIdFinance",t)},expression:"trainList.staffIdFinance"}})],1)],1),a("el-form-item",{attrs:{label:"培训内容"}},[a("el-col",{attrs:{span:15}},[a("el-input",{attrs:{type:"textarea",rows:"3"},model:{value:e.trainList.content,callback:function(t){e.$set(e.trainList,"content",t)},expression:"trainList.content"}})],1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.trainSubmit}},[e._v("立即创建")]),a("el-button",[e._v("取消")])],1)],1)],1)])])},c=[],d=(a("7f7f"),{name:"AddTrainPlan",data:function(){return{isAddTrainShow:!1,trainList:{address:"",approvalDateFinance:"",approvalStatus:"0",approvelSuggest:"1",budget:"",content:"",endDate:"",name:"",staffIdFinance:"0",staffIdInCharge:"",staffIdInSupervisor:"",startDate:""},trainDate:[]}},computed:{getPersonnelList:function(){return this.$store.state.personnelList}},methods:{isAddShowFlag:function(){this.$emit("addTrainShowChange",this.isAddTrainShow)},getPersonnelId:function(e,t,a,n){for(var i in e)a[t]===e[i].name&&(n[t]=e[i].id)},trainSubmit:function(){var e=this,t={};for(var a in this.trainList)t[a]=this.trainList[a];this.getPersonnelId(this.getPersonnelList,"staffIdFinance",this.trainList,t),this.getPersonnelId(this.getPersonnelList,"staffIdInCharge",this.trainList,t),this.getPersonnelId(this.getPersonnelList,"staffIdInSupervisor",this.trainList,t),console.log(t),t.startDate=this.trainDate[0],t.endDate=this.trainDate[1],console.log(t),this.$confirm("确认提交该计划?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["e"])(t).then((function(t){if(console.log(t),200===t.code){for(var a in e.trainList)e.trainList[a]="";e.$emit("refreshList"),e.isAddShowFlag(),e.$message({type:"success",message:"提交成功!"})}else e.$message({type:"error",message:"提交失败!"})})).catch((function(t){console.log(t),e.$message({type:"error",message:"提交失败!"})}))})).catch((function(){e.$message({type:"info",message:"已取消提交"})}))}}}),u=d,p=(a("7b56"),a("2877")),h=Object(p["a"])(u,l,c,!1,null,"9d468bb6",null),f=h.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cover"},[a("div",{staticClass:"check-container add-view"},[a("div",{staticClass:"content-top"},[a("span",[e._v(e._s(e.handleCheckData.name))]),a("div",{staticClass:"close",on:{click:e.closeCheck}},[e._v("x")])]),a("div",{staticClass:"check-data"},[a("form",{attrs:{action:""}},[a("div",{staticClass:"data"},[a("div",{staticClass:"basic"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v("计划基本信息")]),a("div",{staticClass:"add"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small",plain:""},on:{click:e.editClick}},[e._v("编辑")])],1)]),a("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[a("tr",[a("td",{staticClass:"item-title"},[e._v("培训计划名字")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.editShow,expression:"!editShow"}]},[e._v(e._s(e.handleCheckData.name))]),a("div",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editShow,expression:"editShow"}],attrs:{placeholder:"请输入内容"},model:{value:e.editData.name,callback:function(t){e.$set(e.editData,"name",t)},expression:"editData.name"}})],1)]),a("td",{staticClass:"item-title"},[e._v("创建时间")]),a("td",[a("div",[e._v(e._s(e.handleCheckData.createdate))])])]),a("tr",[a("td",{staticClass:"item-title"},[e._v("开始时间")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.editShow,expression:"!editShow"}]},[e._v(e._s(e.handleCheckData.startDate))]),a("div",{staticClass:"block"},[a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.editShow,expression:"editShow"}],attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.editData.startDate,callback:function(t){e.$set(e.editData,"startDate",t)},expression:"editData.startDate"}})],1)]),a("td",{staticClass:"item-title"},[e._v("结束时间")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.editShow,expression:"!editShow"}]},[e._v(e._s(e.handleCheckData.endDate))]),a("div",{staticClass:"block"},[a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:e.editShow,expression:"editShow"}],attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.editData.endDate,callback:function(t){e.$set(e.editData,"endDate",t)},expression:"editData.endDate"}})],1)])]),a("tr",[a("td",{staticClass:"item-title"},[e._v("培训地点")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.editShow,expression:"!editShow"}]},[e._v(e._s(e.handleCheckData.address))]),a("div",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editShow,expression:"editShow"}],attrs:{placeholder:"请输入内容"},model:{value:e.editData.address,callback:function(t){e.$set(e.editData,"address",t)},expression:"editData.address"}})],1)]),a("td",{staticClass:"item-title"},[e._v("培训预算")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.editShow,expression:"!editShow"}]},[e._v(e._s(e.handleCheckData.budget))]),a("div",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editShow,expression:"editShow"}],attrs:{placeholder:"请输入内容"},model:{value:e.editData.budget,callback:function(t){e.$set(e.editData,"budget",t)},expression:"editData.budget"}})],1)])]),a("tr",[a("td",{staticClass:"item-title"},[e._v("负责人")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.editShow,expression:"!editShow"}]},[e._v(e._s(e.manageName.staffIdInCharge))]),a("div",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editShow,expression:"editShow"}],attrs:{placeholder:"请输入内容"},model:{value:e.editData.staffInCharge,callback:function(t){e.$set(e.editData,"staffInCharge",t)},expression:"editData.staffInCharge"}})],1)]),a("td",{staticClass:"item-title"},[e._v("监督人")]),a("td",[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.editShow,expression:"!editShow"}]},[e._v(e._s(e.manageName.staffIdInSupervisor))]),a("div",[a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.editShow,expression:"editShow"}],attrs:{placeholder:"请输入内容"},model:{value:e.editData.staffInSupervisor,callback:function(t){e.$set(e.editData,"staffInSupervisor",t)},expression:"editData.staffInSupervisor"}})],1)])])])]),a("div",{staticClass:"item-status"},[a("div",{staticClass:"title"},[e._v("审批状态")]),a("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[a("tr",[a("td",{staticClass:"item-title"},[e._v("审批状态")]),a("td",[a("div",{staticClass:"status",style:e.statusShow},[e._v(e._s(e.handleCheckData.approvalStatus?"通过":"驳回"))])]),a("td",{staticClass:"item-title"},[e._v("审批时间")]),a("td",[e._v(e._s(e.handleCheckData.approvalDateFinance))])]),a("tr",[a("td",{staticClass:"item-title"},[e._v("审批人姓名")]),a("td",[e._v(e._s(e.manageName.staffIdFinance))]),a("td",{staticClass:"item-title"},[e._v("审批意见")]),a("td",[e._v(e._s(e.handleCheckData.approvalDateFinance))])])])]),a("div",{staticClass:"personnel"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[e._v("参加培训员工")]),a("div",{staticClass:"add"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus",size:"small",plain:""},on:{click:e.addPersonnel}},[e._v("添加培训员工\n                ")])],1)]),a("table",{attrs:{cellpadding:"0",cellspacing:"0"}},[e._m(0),a("tr",{directives:[{name:"show",rawName:"v-show",value:e.addPersonnelShow,expression:"addPersonnelShow"}]},[a("td",{staticClass:"item-title"},[e._v("员工ID")]),a("td",[a("div",[a("el-input",{attrs:{placeholder:"ID"},model:{value:e.addPersonnelData.staffId,callback:function(t){e.$set(e.addPersonnelData,"staffId",t)},expression:"addPersonnelData.staffId"}})],1)]),a("td",{staticClass:"item-title"},[e._v("员工姓名")]),a("td",[a("div",[a("el-input",{attrs:{placeholder:"NAME"}})],1)])])])]),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[e._v("培训内容")]),a("el-input",{attrs:{type:"textarea",rows:"5",disabled:!e.editShow},model:{value:e.handleCheckData.content,callback:function(t){e.$set(e.handleCheckData,"content",t)},expression:"handleCheckData.content"}}),a("div",{staticClass:"title"},[e._v("培训结果")]),a("el-input",{attrs:{type:"textarea",rows:"5",disabled:!e.editShow},model:{value:e.handleCheckData.result,callback:function(t){e.$set(e.handleCheckData,"result",t)},expression:"handleCheckData.result"}})],1),a("div",{staticClass:"edit-button"},[a("el-button",{attrs:{type:"primary",disabled:!e.submitShow,size:"small"},on:{click:e.submitData}},[e._v("提交")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.emptyInput}},[e._v("清空")])],1)])])])])])},g=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",{staticClass:"item-title"},[e._v("员工ID")]),a("td"),a("td",{staticClass:"item-title"},[e._v("员工姓名")]),a("td")])}],v={name:"CheckDepartment",props:{handleCheckData:{type:Object,default:function(){return{}}}},watch:{handleCheckData:function(e,t){this.editData.id=e.id,this.editData.createdate=e.createdate,this.editData.approvalStatus=e.approvalStatus,this.editData.approvalDateFinance=e.approvalDateFinance,this.editData.content=e.content,this.editData.staffIdInCharge=e.staffIdInCharge,this.editData.staffIdFinance=e.staffIdFinance,this.editData.staffIdInSupervisor=e.staffIdInSupervisor,this.addPersonnelData.trainingId=e.id,this.currentId=e.id}},data:function(){return{editShow:!1,editData:{name:"",address:"",budget:"",staffInCharge:"",staffInSupervisor:"",startDate:"",endDate:""},addPersonnelShow:!1,addPersonnelData:{staffId:""},submitShow:!1,currentId:"",manageName:{staffIdInCharge:"",staffIdFinance:"",staffIdInSupervisor:""}}},computed:{statusShow:function(){return this.handleCheckData.approvalStatus?{background:"#259cc0"}:{background:"#fadc08"}},getPersonnelList:function(){return this.$store.state.personnelList}},created:function(){this._getPersonnelTrainPlanList(0)},mounted:function(){this.getAdmin(this.getPersonnelList,this.editData,this.manageName,"staffIdInCharge"),this.getAdmin(this.getPersonnelList,this.editData,this.manageName,"staffIdFinance"),this.getAdmin(this.getPersonnelList,this.editData,this.manageName,"staffIdInSupervisor")},methods:{closeCheck:function(){var e=!1;this.$emit("checkShowChange",e)},_getPersonnelTrainPlanList:function(e){console.log(this.currentId);var t=100,a={id:this.currentId,page:e,pageSize:t};Object(s["u"])(a).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},editClick:function(){this.editShow=!this.editShow,this.submitShow=!this.submitShow},addPersonnel:function(){this.addPersonnelShow=!this.addPersonnelShow,this.submitShow=!this.submitShow},submitData:function(){var e="";this.editShow?(e=this.editData,this.sendRequest(Object(s["N"])(e),this.editData)):this.addPersonnelShow&&(e=this.addPersonnelData,this.sendRequest(Object(s["d"])(e),this.addPersonnelData))},getAdmin:function(e,t,a,n){for(var i in e)t[n]===e[i].staffIdInCharge&&(a[n]=e[i].name,console.log(e[i].staffIdInCharge))},sendRequest:function(e,t){var a=this;this.$confirm("确认修改该计划?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.then((function(e){if(console.log(e),200===e.code){for(var n in a.$message({type:"success",message:"修改成功!"}),t)t[n]="";a.editShow?(a.editShow=!1,a.submitShow=!1):a.addPersonnelShow&&(a.addPersonnelShow=!1,a.submitShow=!1),a.closeCheck(),console.log(a.editShow),console.log(a.addPersonnelShow),a.$emit("refreshList")}else 500===e.code&&a.$message({type:"error",message:"修改失败!"})})).catch((function(e){console.log(e),a.$message({type:"error",message:"修改失败!"})}))})).catch((function(){a.$message({type:"info",message:"取消修改"})}))},emptyInput:function(){var e=this;this.$confirm("确认清空修改的数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(e.editShow)for(var t in e.editShow=!1,e.editData)e.editData[t]="";else e.addPersonnelShow&&(e.addPersonnelShow=!1,e.personnelData.id="",e.personnelData.name="");e.$message({type:"success",message:"清空成功!"})})).catch((function(){e.$message({type:"info",message:"取消清空"})}))}}},S=v,b=(a("98f1"),Object(p["a"])(S,m,g,!1,null,null,null)),w=b.exports,C={name:"TrainManage",data:function(){return{tableData:[],queryParameter:["ID","Name","Page","PageSize"],isAddTrainShow:!1,isCheckShow:!1,isEditShow:!1,handleCheckData:{},handleEditData:{},fullscreenLoading:!1,personnelList:[]}},computed:{statusShow:function(){return this.tableData.approvalStatus?{background:"#259cc0"}:{background:"#fadc08"}},getPersonnelList:function(){return this.$store.state.personnelList}},watch:{"$store.state.personnelList":function(e,t){this.personnelList=e,console.log(e)},keep:!0},created:function(){this._getTrainPlanList(0)},methods:{_getTrainPlanList:function(e){var t=this;console.log(this.personnelList),this.fullscreenLoading=!0;var a=10,n={page:e,pageSize:a};Object(s["A"])(n).then((function(e){t.tableData=e.data.list,t.fullscreenLoading=!1})).catch((function(e){console.log(e)}))},searchData:function(e){var t=this;for(var a in e)e[a]&&Object(s["J"])(e).then((function(e){t.tableData=e.data.list})).catch((function(e){console.log(e)}))},addTrainClick:function(){this.isAddTrainShow=!0},addTrainShowChange:function(e){this.isAddTrainShow=e},refreshList:function(){this._getTrainPlanList(0)},clickDetailed:function(e){this.handleCheckData=e,this.isCheckShow=!0,console.log(e)},checkShowChange:function(e){this.isCheckShow=e},clickDelete:function(e){var t=this,a=e.id;this.$confirm("确定删除此条计划吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["m"])(a).then((function(e){200===e.code?(t.$message({type:"success",message:"删除成功!"}),t._getTrainPlanList(0)):t.$message({type:"error",message:"删除失败!"})})).catch((function(e){console.log(e)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}},components:{PersonnelSearch:r["a"],Pagination:o["a"],AddTrainPlan:f,CheckTrain:w}},D=C,I=(a("c0a2"),Object(p["a"])(D,n,i,!1,null,null,null));t["default"]=I.exports},"4b264":function(e,t,a){},"7b56":function(e,t,a){"use strict";var n=a("8ce3"),i=a.n(n);i.a},"8ce3":function(e,t,a){},"98f1":function(e,t,a){"use strict";var n=a("0193"),i=a.n(n);i.a},a3ba:function(e,t,a){"use strict";var n=a("4b264"),i=a.n(n);i.a},c0a2:function(e,t,a){"use strict";var n=a("02c1"),i=a.n(n);i.a}}]);
//# sourceMappingURL=chunk-fed697e0.659e4b2e.js.map